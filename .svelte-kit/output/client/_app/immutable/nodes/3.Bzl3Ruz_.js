const __vite__fileDeps=["../chunks/LeafletMap.BDf3rw7s.js","../chunks/preload-helper.D6kgxu3v.js","../chunks/scheduler.c2vh5_Kn.js","../chunks/index.DYvIg-GN.js","../assets/LeafletMap.HupOsEJb.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as Le}from"../chunks/preload-helper.D6kgxu3v.js";import{s as K,j as we,n as N,r as Se,c as G,a as Te,i as le,o as ke}from"../chunks/scheduler.c2vh5_Kn.js";import{S as Q,i as W,e as m,c as g,a as v,f as p,h as c,k as D,l as h,E as _e,n as ce,o as xe,t as Ee,d as Ce,j as F,F as Me,s as E,b as C,D as oe,u as q,g as J,v as U,A as He,w as B,q as R,r as j,x as z}from"../chunks/index.DYvIg-GN.js";import{C as Oe}from"../chunks/Card.CW4ohSfW.js";import{s as Pe}from"../chunks/stores.B-gPtvMu.js";import{e as ve}from"../chunks/each.D6YF6ztN.js";import{e as qe}from"../chunks/forms.BE_K5bEP.js";import{S as Ue}from"../chunks/SpotList.DYXeolX1.js";import{L as Be}from"../chunks/LeafletMap.BDf3rw7s.js";function $e(o,e,t){const n=o.slice();return n[3]=e[t],n}function be(o){let e,t=o[3]+"",n;return{c(){e=m("option"),n=Ee(t),this.h()},l(s){e=g(s,"OPTION",{});var l=v(e);n=Ce(l,t),l.forEach(p),this.h()},h(){e.__value=o[3],F(e,e.__value)},m(s,l){D(s,e,l),h(e,n)},p:N,d(s){s&&p(e)}}}function Re(o){let e,t,n,s,l,r=ve(o[1]),i=[];for(let a=0;a<r.length;a+=1)i[a]=be($e(o,r,a));return{c(){e=m("div"),t=m("div"),n=m("select");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=g(a,"DIV",{class:!0});var u=v(e);t=g(u,"DIV",{class:!0});var d=v(t);n=g(d,"SELECT",{name:!0});var $=v(n);for(let V=0;V<i.length;V+=1)i[V].l($);$.forEach(p),d.forEach(p),u.forEach(p),this.h()},h(){c(n,"name","category"),o[0]===void 0&&we(()=>o[2].call(n)),c(t,"class","select"),c(e,"class","control")},m(a,u){D(a,e,u),h(e,t),h(t,n);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(n,null);_e(n,o[0],!0),s||(l=ce(n,"change",o[2]),s=!0)},p(a,[u]){if(u&2){r=ve(a[1]);let d;for(d=0;d<r.length;d+=1){const $=$e(a,r,d);i[d]?i[d].p($,u):(i[d]=be($),i[d].c(),i[d].m(n,null))}for(;d<i.length;d+=1)i[d].d(1);i.length=r.length}u&3&&_e(n,a[0])},i:N,o:N,d(a){a&&p(e),xe(i,a),s=!1,l()}}}function je(o,e,t){const n=["Site","Locale","Activity","Scenery","Structure","Shopping","Uncategorised"];let{selectedCategory:s="Uncategorised"}=e;function l(){s=Me(this),t(0,s),t(1,n)}return o.$$set=r=>{"selectedCategory"in r&&t(0,s=r.selectedCategory)},[s,n,l]}class ze extends Q{constructor(e){super(),W(this,e,je,Re,K,{selectedCategory:0})}}function Ae(o){let e,t,n,s,l,r,i;return{c(){e=m("div"),t=m("input"),n=E(),s=m("div"),l=m("input"),this.h()},l(a){e=g(a,"DIV",{class:!0});var u=v(e);t=g(u,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0,placeholder:!0,name:!0}),u.forEach(p),n=C(a),s=g(a,"DIV",{class:!0});var d=v(s);l=g(d,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0,placeholder:!0,name:!0}),d.forEach(p),this.h()},h(){c(t,"class","input is-danger is-rounded"),c(t,"type","float"),c(t,"min","-90"),c(t,"max","90"),c(t,"step","0.00001"),c(t,"placeholder","Latitude"),c(t,"name","latitude"),t.required=!0,c(e,"class","field is-narrow"),c(l,"class","input is-danger is-rounded"),c(l,"type","float"),c(l,"min","-180"),c(l,"max","180"),c(l,"step","0.00001"),c(l,"placeholder","Longitude"),c(l,"name","longitude"),l.required=!0,c(s,"class","field is-narrow")},m(a,u){D(a,e,u),h(e,t),F(t,o[0]),D(a,n,u),D(a,s,u),h(s,l),F(l,o[1]),r||(i=[ce(t,"input",o[2]),ce(l,"input",o[3])],r=!0)},p(a,[u]){u&1&&F(t,a[0]),u&2&&F(l,a[1])},i:N,o:N,d(a){a&&(p(e),p(n),p(s)),r=!1,Se(i)}}}function Fe(o,e,t){let{latitude:n=0}=e,{longitude:s=0}=e;function l(){n=this.value,t(0,n)}function r(){s=this.value,t(1,s)}return o.$$set=i=>{"latitude"in i&&t(0,n=i.latitude),"longitude"in i&&t(1,s=i.longitude)},[n,s,l,r]}class Ne extends Q{constructor(e){super(),W(this,e,Fe,Ae,K,{latitude:0,longitude:1})}}function Xe(o){let e,t,n,s,l,r='<input class="input is-success" id="name" placeholder="Spot name" type="text" name="name" required=""/>',i,a,u,d,$,V,f,b,L,w,I,A='<input id="description" class="input is-success" type="text" placeholder="Enter description" name="description"/>',Y,Z,ee,k,de='<button class="button is-danger is-rounded has-text-weight-bold is-size-5">Create Spot</button>',te,se,ae,x,M,H,O,ne,X,ie,ue;function Ie(_){o[3](_)}let fe={};o[0]!==void 0&&(fe.selectedCategory=o[0]),a=new ze({props:fe}),G.push(()=>oe(a,"selectedCategory",Ie));function De(_){o[4](_)}function Ve(_){o[5](_)}let re={};return o[1]!==void 0&&(re.latitude=o[1]),o[2]!==void 0&&(re.longitude=o[2]),f=new Ne({props:re}),G.push(()=>oe(f,"latitude",De)),G.push(()=>oe(f,"longitude",Ve)),{c(){e=m("div"),t=m("form"),n=m("div"),s=m("div"),l=m("div"),l.innerHTML=r,i=E(),q(a.$$.fragment),d=E(),$=m("div"),V=E(),q(f.$$.fragment),w=E(),I=m("div"),I.innerHTML=A,Y=E(),Z=m("br"),ee=E(),k=m("div"),k.innerHTML=de,te=E(),se=m("br"),ae=E(),x=m("div"),M=m("div"),H=m("div"),O=m("div"),ne=Ee(ye),this.h()},l(_){e=g(_,"DIV",{class:!0,style:!0});var S=v(e);t=g(S,"FORM",{method:!0,action:!0});var y=v(t);n=g(y,"DIV",{class:!0});var P=v(n);s=g(P,"DIV",{class:!0});var T=v(s);l=g(T,"DIV",{class:!0,"data-svelte-h":!0}),J(l)!=="svelte-98ixt5"&&(l.innerHTML=r),i=C(T),U(a.$$.fragment,T),d=C(T),$=g(T,"DIV",{class:!0}),v($).forEach(p),V=C(T),U(f.$$.fragment,T),T.forEach(p),P.forEach(p),w=C(y),I=g(y,"DIV",{class:!0,"data-svelte-h":!0}),J(I)!=="svelte-ej73g9"&&(I.innerHTML=A),Y=C(y),Z=g(y,"BR",{}),ee=C(y),k=g(y,"DIV",{class:!0,"data-svelte-h":!0}),J(k)!=="svelte-zikyt2"&&(k.innerHTML=de),te=C(y),se=g(y,"BR",{}),ae=C(y),x=g(y,"DIV",{class:!0});var he=v(x);M=g(he,"DIV",{class:!0});var pe=v(M);H=g(pe,"DIV",{class:!0});var me=v(H);O=g(me,"DIV",{class:!0});var ge=v(O);ne=Ce(ge,ye),ge.forEach(p),me.forEach(p),pe.forEach(p),he.forEach(p),y.forEach(p),S.forEach(p),this.h()},h(){c(l,"class","field is-narrow"),c($,"class","field is-narrow"),c(s,"class","field-body"),c(n,"class","field is-grouped-horizontal"),c(I,"class","field"),c(k,"class","text has-text-centered"),c(O,"class","content has-text-centered is-italic"),c(H,"class","box has-background-warning-light"),c(M,"class","column is-narrow"),c(x,"class","columns is-mobile is-centered"),c(t,"method","POST"),c(t,"action","?/create"),c(e,"class","box has-background-white"),He(e,"height","43vh")},m(_,S){D(_,e,S),h(e,t),h(t,n),h(n,s),h(s,l),h(s,i),B(a,s,null),h(s,d),h(s,$),h(s,V),B(f,s,null),h(t,w),h(t,I),h(t,Y),h(t,Z),h(t,ee),h(t,k),h(t,te),h(t,se),h(t,ae),h(t,x),h(x,M),h(M,H),h(H,O),h(O,ne),X=!0,ie||(ue=Te(qe.call(null,t)),ie=!0)},p(_,[S]){const y={};!u&&S&1&&(u=!0,y.selectedCategory=_[0],le(()=>u=!1)),a.$set(y);const P={};!b&&S&2&&(b=!0,P.latitude=_[1],le(()=>b=!1)),!L&&S&4&&(L=!0,P.longitude=_[2],le(()=>L=!1)),f.$set(P)},i(_){X||(R(a.$$.fragment,_),R(f.$$.fragment,_),X=!0)},o(_){j(a.$$.fragment,_),j(f.$$.fragment,_),X=!1},d(_){_&&p(e),z(a),z(f),ie=!1,ue()}}}let ye="Type in your new Spot's details above before hitting the red button";function Ge(o,e,t){let n="Uncategorised",s=0,l=0;function r(u){n=u,t(0,n)}function i(u){s=u,t(1,s)}function a(u){l=u,t(2,l)}return[n,s,l,r,i,a]}class Je extends Q{constructor(e){super(),W(this,e,Ge,Xe,K,{})}}function Ke(o){let e,t='<div class="column is-3"><box class="box has-background-white"><h2 class="h2 has-text-centered">Spot List</h2></box></div>',n,s,l;return s=new Ue({props:{spots:o[0].spots}}),{c(){e=m("div"),e.innerHTML=t,n=E(),q(s.$$.fragment),this.h()},l(r){e=g(r,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-12khktn"&&(e.innerHTML=t),n=C(r),U(s.$$.fragment,r),this.h()},h(){c(e,"class","columns is-mobile is-centered")},m(r,i){D(r,e,i),D(r,n,i),B(s,r,i),l=!0},p(r,i){const a={};i&1&&(a.spots=r[0].spots),s.$set(a)},i(r){l||(R(s.$$.fragment,r),l=!0)},o(r){j(s.$$.fragment,r),l=!1},d(r){r&&(p(e),p(n)),z(s,r)}}}function Qe(o){let e,t,n,s,l,r,i,a,u,d,$;s=new Je({});let V={height:43,activeLayer:"Terrain",data:o[0]};return a=new Be({props:V}),o[2](a),d=new Oe({props:{$$slots:{default:[Ke]},$$scope:{ctx:o}}}),{c(){e=m("div"),t=m("div"),n=m("box"),q(s.$$.fragment),l=E(),r=m("div"),i=m("box"),q(a.$$.fragment),u=E(),q(d.$$.fragment),this.h()},l(f){e=g(f,"DIV",{class:!0});var b=v(e);t=g(b,"DIV",{class:!0});var L=v(t);n=g(L,"BOX",{class:!0});var w=v(n);U(s.$$.fragment,w),w.forEach(p),L.forEach(p),l=C(b),r=g(b,"DIV",{class:!0});var I=v(r);i=g(I,"BOX",{class:!0});var A=v(i);U(a.$$.fragment,A),A.forEach(p),I.forEach(p),b.forEach(p),u=C(f),U(d.$$.fragment,f),this.h()},h(){c(n,"class","box has-background-danger-light"),c(t,"class","column is-6"),c(i,"class","box"),c(r,"class","column is-6"),c(e,"class","columns is-mobile is-centered")},m(f,b){D(f,e,b),h(e,t),h(t,n),B(s,n,null),h(e,l),h(e,r),h(r,i),B(a,i,null),D(f,u,b),B(d,f,b),$=!0},p(f,[b]){const L={};b&1&&(L.data=f[0]),a.$set(L);const w={};b&9&&(w.$$scope={dirty:b,ctx:f}),d.$set(w)},i(f){$||(R(s.$$.fragment,f),R(a.$$.fragment,f),R(d.$$.fragment,f),$=!0)},o(f){j(s.$$.fragment,f),j(a.$$.fragment,f),j(d.$$.fragment,f),$=!1},d(f){f&&(p(e),p(u)),z(s),o[2](null),z(a),z(d,f)}}}function We(o,e,t){let{data:n}=e,s;Pe.set("Create a Spot"),ke(async()=>{await Le(()=>import("../chunks/LeafletMap.BDf3rw7s.js").then(a=>a.l),__vite__mapDeps([0,1,2,3,4]),import.meta.url);const r=n.spots,i=r[r.length-1];if(i){const a=`Spot "${i.name}" (${i.latitude} ${i.longitude}), category: ${i.category}`;s.addMarker(i.latitude,i.longitude,a),s.moveTo(i.latitude,i.longitude)}});function l(r){G[r?"unshift":"push"](()=>{s=r,t(1,s)})}return o.$$set=r=>{"data"in r&&t(0,n=r.data)},[n,s,l]}class lt extends Q{constructor(e){super(),W(this,e,We,Qe,K,{data:0})}}export{lt as component};
