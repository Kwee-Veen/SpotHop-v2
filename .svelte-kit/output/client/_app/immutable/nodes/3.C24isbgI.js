const __vite__fileDeps=["../chunks/leaflet-src.CWPxKVZ0.js","../assets/leaflet-src.HupOsEJb.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as we}from"../chunks/preload-helper.D6kgxu3v.js";import{s as z,j as Se,n as H,r as Te,b as ne,a as Le,i as ie,o as ke}from"../chunks/scheduler.Dda-Ubu_.js";import{S as A,i as B,e as h,c as g,a as m,f as p,h as d,k as D,l as f,E as me,o as oe,x as Me,t as Ee,d as Ce,j as P,F as xe,s as y,b as E,D as re,p as q,g as le,q as O,n as Pe,r as U,u as R,v as j,w as F}from"../chunks/index.BUOivlNn.js";import{C as He,S as qe}from"../chunks/SpotList.DbOgukCJ.js";import{s as Oe}from"../chunks/stores.DUKXx1u7.js";import{e as ve}from"../chunks/each.D6YF6ztN.js";import{e as Ue}from"../chunks/forms.5rdNBL9U.js";import"../chunks/leaflet-src.CWPxKVZ0.js";function $e(r,t,e){const s=r.slice();return s[3]=t[e],s}function be(r){let t,e=r[3]+"",s;return{c(){t=h("option"),s=Ee(e),this.h()},l(n){t=g(n,"OPTION",{});var i=m(t);s=Ce(i,e),i.forEach(p),this.h()},h(){t.__value=r[3],P(t,t.__value)},m(n,i){D(n,t,i),f(t,s)},p:H,d(n){n&&p(t)}}}function Re(r){let t,e,s,n,i,o=ve(r[1]),l=[];for(let a=0;a<o.length;a+=1)l[a]=be($e(r,o,a));return{c(){t=h("div"),e=h("div"),s=h("select");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){t=g(a,"DIV",{class:!0});var c=m(t);e=g(c,"DIV",{class:!0});var u=m(e);s=g(u,"SELECT",{name:!0});var $=m(s);for(let V=0;V<l.length;V+=1)l[V].l($);$.forEach(p),u.forEach(p),c.forEach(p),this.h()},h(){d(s,"name","category"),r[0]===void 0&&Se(()=>r[2].call(s)),d(e,"class","select"),d(t,"class","control")},m(a,c){D(a,t,c),f(t,e),f(e,s);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(s,null);me(s,r[0],!0),n||(i=oe(s,"change",r[2]),n=!0)},p(a,[c]){if(c&2){o=ve(a[1]);let u;for(u=0;u<o.length;u+=1){const $=$e(a,o,u);l[u]?l[u].p($,c):(l[u]=be($),l[u].c(),l[u].m(s,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=o.length}c&3&&me(s,a[0])},i:H,o:H,d(a){a&&p(t),Me(l,a),n=!1,i()}}}function je(r,t,e){const s=["Site","Locale","Activity","Scenery","Structure","Shopping","Uncategorised"];let{selectedCategory:n="Uncategorised"}=t;function i(){n=xe(this),e(0,n),e(1,s)}return r.$$set=o=>{"selectedCategory"in o&&e(0,n=o.selectedCategory)},[n,s,i]}class Fe extends A{constructor(t){super(),B(this,t,je,Re,z,{selectedCategory:0})}}function Ne(r){let t,e,s,n,i,o,l;return{c(){t=h("div"),e=h("input"),s=y(),n=h("div"),i=h("input"),this.h()},l(a){t=g(a,"DIV",{class:!0});var c=m(t);e=g(c,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0,placeholder:!0,name:!0}),c.forEach(p),s=E(a),n=g(a,"DIV",{class:!0});var u=m(n);i=g(u,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0,placeholder:!0,name:!0}),u.forEach(p),this.h()},h(){d(e,"class","input is-danger is-rounded"),d(e,"type","float"),d(e,"min","-90"),d(e,"max","90"),d(e,"step","0.00001"),d(e,"placeholder","Latitude"),d(e,"name","latitude"),e.required=!0,d(t,"class","field is-narrow"),d(i,"class","input is-danger is-rounded"),d(i,"type","float"),d(i,"min","-180"),d(i,"max","180"),d(i,"step","0.00001"),d(i,"placeholder","Longitude"),d(i,"name","longitude"),i.required=!0,d(n,"class","field is-narrow")},m(a,c){D(a,t,c),f(t,e),P(e,r[0]),D(a,s,c),D(a,n,c),f(n,i),P(i,r[1]),o||(l=[oe(e,"input",r[2]),oe(i,"input",r[3])],o=!0)},p(a,[c]){c&1&&P(e,a[0]),c&2&&P(i,a[1])},i:H,o:H,d(a){a&&(p(t),p(s),p(n)),o=!1,Te(l)}}}function ze(r,t,e){let{latitude:s=0}=t,{longitude:n=0}=t;function i(){s=this.value,e(0,s)}function o(){n=this.value,e(1,n)}return r.$$set=l=>{"latitude"in l&&e(0,s=l.latitude),"longitude"in l&&e(1,n=l.longitude)},[s,n,i,o]}class Ae extends A{constructor(t){super(),B(this,t,ze,Ne,z,{latitude:0,longitude:1})}}function Be(r){let t,e,s,n,i,o='<input class="input is-success" id="name" placeholder="Spot name" type="text" name="name" required=""/>',l,a,c,u,$,V,b,G,J,K,w,ce='<input id="description" class="input is-success" type="text" placeholder="Enter description" name="description"/>',Q,W,X,S,de='<button class="button is-warning is-rounded has-text-weight-bold is-size-5">Create Spot</button>',Y,Z,ee,T,L,k,M,te,N,se,ue;function Ie(_){r[3](_)}let fe={};r[0]!==void 0&&(fe.selectedCategory=r[0]),a=new Fe({props:fe}),ne.push(()=>re(a,"selectedCategory",Ie));function De(_){r[4](_)}function Ve(_){r[5](_)}let ae={};return r[1]!==void 0&&(ae.latitude=r[1]),r[2]!==void 0&&(ae.longitude=r[2]),b=new Ae({props:ae}),ne.push(()=>re(b,"latitude",De)),ne.push(()=>re(b,"longitude",Ve)),{c(){t=h("div"),e=h("form"),s=h("div"),n=h("div"),i=h("div"),i.innerHTML=o,l=y(),q(a.$$.fragment),u=y(),$=h("div"),V=y(),q(b.$$.fragment),K=y(),w=h("div"),w.innerHTML=ce,Q=y(),W=h("br"),X=y(),S=h("div"),S.innerHTML=de,Y=y(),Z=h("br"),ee=y(),T=h("div"),L=h("div"),k=h("div"),M=h("div"),te=Ee(ye),this.h()},l(_){t=g(_,"DIV",{class:!0,style:!0});var C=m(t);e=g(C,"FORM",{method:!0,action:!0});var v=m(e);s=g(v,"DIV",{class:!0});var x=m(s);n=g(x,"DIV",{class:!0});var I=m(n);i=g(I,"DIV",{class:!0,"data-svelte-h":!0}),le(i)!=="svelte-98ixt5"&&(i.innerHTML=o),l=E(I),O(a.$$.fragment,I),u=E(I),$=g(I,"DIV",{class:!0}),m($).forEach(p),V=E(I),O(b.$$.fragment,I),I.forEach(p),x.forEach(p),K=E(v),w=g(v,"DIV",{class:!0,"data-svelte-h":!0}),le(w)!=="svelte-ej73g9"&&(w.innerHTML=ce),Q=E(v),W=g(v,"BR",{}),X=E(v),S=g(v,"DIV",{class:!0,"data-svelte-h":!0}),le(S)!=="svelte-ypixef"&&(S.innerHTML=de),Y=E(v),Z=g(v,"BR",{}),ee=E(v),T=g(v,"DIV",{class:!0});var pe=m(T);L=g(pe,"DIV",{class:!0});var he=m(L);k=g(he,"DIV",{class:!0});var ge=m(k);M=g(ge,"DIV",{class:!0});var _e=m(M);te=Ce(_e,ye),_e.forEach(p),ge.forEach(p),he.forEach(p),pe.forEach(p),v.forEach(p),C.forEach(p),this.h()},h(){d(i,"class","field is-narrow"),d($,"class","field is-narrow"),d(n,"class","field-body"),d(s,"class","field is-grouped-horizontal"),d(w,"class","field"),d(S,"class","text has-text-centered"),d(M,"class","content has-text-centered is-italic"),d(k,"class","box has-background-warning-light"),d(L,"class","column is-narrow"),d(T,"class","columns is-mobile is-centered"),d(e,"method","POST"),d(e,"action","?/create"),d(t,"class","box has-background-white"),Pe(t,"height","43vh")},m(_,C){D(_,t,C),f(t,e),f(e,s),f(s,n),f(n,i),f(n,l),U(a,n,null),f(n,u),f(n,$),f(n,V),U(b,n,null),f(e,K),f(e,w),f(e,Q),f(e,W),f(e,X),f(e,S),f(e,Y),f(e,Z),f(e,ee),f(e,T),f(T,L),f(L,k),f(k,M),f(M,te),N=!0,se||(ue=Le(Ue.call(null,e)),se=!0)},p(_,[C]){const v={};!c&&C&1&&(c=!0,v.selectedCategory=_[0],ie(()=>c=!1)),a.$set(v);const x={};!G&&C&2&&(G=!0,x.latitude=_[1],ie(()=>G=!1)),!J&&C&4&&(J=!0,x.longitude=_[2],ie(()=>J=!1)),b.$set(x)},i(_){N||(R(a.$$.fragment,_),R(b.$$.fragment,_),N=!0)},o(_){j(a.$$.fragment,_),j(b.$$.fragment,_),N=!1},d(_){_&&p(t),F(a),F(b),se=!1,ue()}}}let ye="Type in your new Spot's details above before hitting the red button";function Ge(r,t,e){let s="Uncategorised",n=0,i=0;function o(c){s=c,e(0,s)}function l(c){n=c,e(1,n)}function a(c){i=c,e(2,i)}return[s,n,i,o,l,a]}class Je extends A{constructor(t){super(),B(this,t,Ge,Be,z,{})}}function Ke(r){let t,e;return t=new qe({props:{spots:r[0].spots}}),{c(){q(t.$$.fragment)},l(s){O(t.$$.fragment,s)},m(s,n){U(t,s,n),e=!0},p(s,n){const i={};n&1&&(i.spots=s[0].spots),t.$set(i)},i(s){e||(R(t.$$.fragment,s),e=!0)},o(s){j(t.$$.fragment,s),e=!1},d(s){F(t,s)}}}function Qe(r){let t,e,s,n,i,o,l;return n=new Je({}),o=new He({props:{$$slots:{default:[Ke]},$$scope:{ctx:r}}}),{c(){t=h("div"),e=h("div"),s=h("div"),q(n.$$.fragment),i=y(),q(o.$$.fragment),this.h()},l(a){t=g(a,"DIV",{class:!0});var c=m(t);e=g(c,"DIV",{class:!0});var u=m(e);s=g(u,"DIV",{class:!0});var $=m(s);O(n.$$.fragment,$),$.forEach(p),u.forEach(p),c.forEach(p),i=E(a),O(o.$$.fragment,a),this.h()},h(){d(s,"class","box has-background-warning"),d(e,"class","column is-8"),d(t,"class","columns is-mobile is-centered")},m(a,c){D(a,t,c),f(t,e),f(e,s),U(n,s,null),D(a,i,c),U(o,a,c),l=!0},p(a,[c]){const u={};c&5&&(u.$$scope={dirty:c,ctx:a}),o.$set(u)},i(a){l||(R(n.$$.fragment,a),R(o.$$.fragment,a),l=!0)},o(a){j(n.$$.fragment,a),j(o.$$.fragment,a),l=!1},d(a){a&&(p(t),p(i)),F(n),F(o,a)}}}function We(r,t,e){let{data:s}=t,n;return Oe.set("Create a Spot"),ke(async()=>{await we(()=>import("../chunks/leaflet-src.CWPxKVZ0.js").then(l=>l.l),__vite__mapDeps([0,1]),import.meta.url);const i=s.spots,o=i[i.length-1];if(o){const l=`Spot "${o.name}" (${o.latitude} ${o.longitude}), category: ${o.category}`;n.addMarker(o.latitude,o.longitude,l),n.moveTo(o.latitude,o.longitude)}}),r.$$set=i=>{"data"in i&&e(0,s=i.data)},[s]}class it extends A{constructor(t){super(),B(this,t,We,Qe,z,{data:0})}}export{it as component};
