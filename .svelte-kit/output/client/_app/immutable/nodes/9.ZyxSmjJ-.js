import{s as U,o as B}from"../chunks/scheduler.Dda-Ubu_.js";import{S as W,i as R,e as f,p as C,c as p,a as b,q as L,f as c,h as m,k as H,r as k,u as D,v as I,w as E,s as O,g as j,b as q,l as d}from"../chunks/index.BUOivlNn.js";import{s as G}from"../chunks/stores.DUKXx1u7.js";import{C as J,S as K}from"../chunks/SpotList.Cu6rj25E.js";import{C as F}from"../chunks/Chart.De-Ru-V4.js";function Q(l){let e,s,a;return s=new F({props:{options:l[0]}}),{c(){e=f("div"),C(s.$$.fragment),this.h()},l(t){e=p(t,"DIV",{class:!0});var r=b(e);L(s.$$.fragment,r),r.forEach(c),this.h()},h(){m(e,"class","app svelte-qhw3u1")},m(t,r){H(t,e,r),k(s,e,null),a=!0},p(t,[r]){const o={};r&1&&(o.options=t[0]),s.$set(o)},i(t){a||(D(s.$$.fragment,t),a=!0)},o(t){I(s.$$.fragment,t),a=!1},d(t){t&&c(e),E(s)}}}function X(l,e,s){let{data:a}=e,t=[],r={},o=[{value:0,name:"Site"},{value:0,name:"Locale"},{value:0,name:"Activity"},{value:0,name:"Scenery"},{value:0,name:"Structure"},{value:0,name:"Shopping"},{value:0,name:"Uncategorised"}];B(async()=>{t=a.spots,t.forEach(n=>{n.category=="Site"&&(o[0].value+=1),n.category=="Locale"&&(o[1].value+=1),n.category=="Activity"&&(o[2].value+=1),n.category=="Scenery"&&(o[3].value+=1),n.category=="Structure"&&(o[4].value+=1),n.category=="Shopping"&&(o[5].value+=1),n.category=="Uncategorised"&&(o[6].value+=1)}),y()});function y(){s(0,r={tooltip:{trigger:"item"},legend:{top:"0%",left:"center"},responsive:!0,maintainAspectRatio:!1,series:[{name:"Spot Category",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:7,borderColor:"#fff",borderWidth:5},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:12,fontWeight:"bold"}},labelLine:{show:!1},data:o}]})}return l.$$set=n=>{"data"in n&&s(1,a=n.data)},[r,a]}class Y extends W{constructor(e){super(),R(this,e,X,Q,U,{data:1})}}function Z(l){let e,s,a;return s=new F({props:{options:l[0]}}),{c(){e=f("div"),C(s.$$.fragment),this.h()},l(t){e=p(t,"DIV",{class:!0});var r=b(e);L(s.$$.fragment,r),r.forEach(c),this.h()},h(){m(e,"class","app svelte-1dz9pih")},m(t,r){H(t,e,r),k(s,e,null),a=!0},p(t,[r]){const o={};r&1&&(o.options=t[0]),s.$set(o)},i(t){a||(D(s.$$.fragment,t),a=!0)},o(t){I(s.$$.fragment,t),a=!1},d(t){t&&c(e),E(s)}}}function tt(l,e,s){let{data:a}=e,t=[],r=[],o={};B(async()=>{r=a.userSpots,a.users.forEach(h=>{if(h.firstName&&h.lastName){let v=`${h.firstName} ${h.lastName}`;t.push(v)}}),y()});function y(){s(0,o={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",top:"2%",containLabel:!0},xAxis:[{type:"category",data:t,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"Direct",type:"bar",barWidth:"60%",data:r}]})}return l.$$set=n=>{"data"in n&&s(1,a=n.data)},[o,a]}class et extends W{constructor(e){super(),R(this,e,tt,Z,U,{data:1})}}function at(l){let e,s;return e=new K({props:{spots:l[0].spots}}),{c(){C(e.$$.fragment)},l(a){L(e.$$.fragment,a)},m(a,t){k(e,a,t),s=!0},p(a,t){const r={};t&1&&(r.spots=a[0].spots),e.$set(r)},i(a){s||(D(e.$$.fragment,a),s=!0)},o(a){I(e.$$.fragment,a),s=!1},d(a){E(e,a)}}}function st(l){let e,s,a,t,r,o='<div class="column is-narrow"><div class="box has-background-link-dark pb-2"><h4 class="text has-text-centered has-text-white">Spots by Category</h4></div></div>',y,n,h,v,g,S,z='<div class="column is-narrow"><div class="box has-background-link-dark pb-2"><h4 class="text has-text-centered has-text-white">Spots by User</h4></div></div>',N,$,T,_,A;return n=new Y({props:{data:l[0]}}),$=new et({props:{data:l[0]}}),_=new J({props:{$$slots:{default:[at]},$$scope:{ctx:l}}}),{c(){e=f("div"),s=f("div"),a=f("div"),t=f("div"),r=f("div"),r.innerHTML=o,y=O(),C(n.$$.fragment),h=O(),v=f("div"),g=f("div"),S=f("div"),S.innerHTML=z,N=O(),C($.$$.fragment),T=O(),C(_.$$.fragment),this.h()},l(i){e=p(i,"DIV",{class:!0});var u=b(e);s=p(u,"DIV",{class:!0});var x=b(s);a=p(x,"DIV",{class:!0});var V=b(a);t=p(V,"DIV",{class:!0});var w=b(t);r=p(w,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-14ce3ur"&&(r.innerHTML=o),y=q(w),L(n.$$.fragment,w),w.forEach(c),V.forEach(c),h=q(x),v=p(x,"DIV",{class:!0});var P=b(v);g=p(P,"DIV",{class:!0});var M=b(g);S=p(M,"DIV",{class:!0,"data-svelte-h":!0}),j(S)!=="svelte-6rn4uq"&&(S.innerHTML=z),N=q(M),L($.$$.fragment,M),M.forEach(c),P.forEach(c),x.forEach(c),u.forEach(c),T=q(i),L(_.$$.fragment,i),this.h()},h(){m(r,"class","columns is-mobile is-centered"),m(t,"class","card"),m(a,"class","column is-half"),m(S,"class","columns is-mobile is-centered"),m(g,"class","card"),m(v,"class","column is-half"),m(s,"class","columns is-mobile"),m(e,"class","box has-background-link-dark pt-5 pb-5")},m(i,u){H(i,e,u),d(e,s),d(s,a),d(a,t),d(t,r),d(t,y),k(n,t,null),d(s,h),d(s,v),d(v,g),d(g,S),d(g,N),k($,g,null),H(i,T,u),k(_,i,u),A=!0},p(i,[u]){const x={};u&1&&(x.data=i[0]),n.$set(x);const V={};u&1&&(V.data=i[0]),$.$set(V);const w={};u&3&&(w.$$scope={dirty:u,ctx:i}),_.$set(w)},i(i){A||(D(n.$$.fragment,i),D($.$$.fragment,i),D(_.$$.fragment,i),A=!0)},o(i){I(n.$$.fragment,i),I($.$$.fragment,i),I(_.$$.fragment,i),A=!1},d(i){i&&(c(e),c(T)),E(n),E($),E(_,i)}}}function rt(l,e,s){G.set("Spot Report");let{data:a}=e;return l.$$set=t=>{"data"in t&&s(0,a=t.data)},[a]}class ut extends W{constructor(e){super(),R(this,e,rt,st,U,{data:0})}}export{ut as component};
