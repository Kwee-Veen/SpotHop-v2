import{s as F,d as M,e as T,n as B}from"../chunks/scheduler.DymJjos-.js";import{S as H,i as j,u as U,s as y,e as h,o as O,l as D,c as v,a as w,p as V,n as z,d,b,f as N,q,g as $,v as J,w as P,t as C,x as R,h as S,y as A,r as L}from"../chunks/index.C8OdZkHj.js";import{g as G}from"../chunks/entry.DoXKntEs.js";import{c as K}from"../chunks/stores.kbMQnpkH.js";import{s as Q}from"../chunks/spot-service.rzhWlNUk.js";import{U as W,M as X}from"../chunks/UserCredentials.D9iTx-dV.js";function x(l){let t,s;return t=new X({props:{message:l[2]}}),{c(){O(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,r){q(t,e,r),s=!0},p(e,r){const i={};r&4&&(i.message=e[2]),t.$set(i)},i(e){s||(C(t.$$.fragment,e),s=!0)},o(e){S(t.$$.fragment,e),s=!1},d(e){L(t,e)}}}function Y(l){let t,s,e,r,i,p,c,m="Log In",o,_,u,n=l[2]&&x(l);function k(a){l[4](a)}function E(a){l[5](a)}let g={};return l[0]!==void 0&&(g.email=l[0]),l[1]!==void 0&&(g.password=l[1]),e=new W({props:g}),M.push(()=>U(e,"email",k)),M.push(()=>U(e,"password",E)),{c(){n&&n.c(),t=y(),s=h("form"),O(e.$$.fragment),p=y(),c=h("button"),c.textContent=m,this.h()},l(a){n&&n.l(a),t=D(a),s=v(a,"FORM",{});var f=w(s);V(e.$$.fragment,f),p=D(f),c=v(f,"BUTTON",{class:!0,"data-svelte-h":!0}),z(c)!=="svelte-1klwqp6"&&(c.textContent=m),f.forEach(d),this.h()},h(){b(c,"class","button is-success is-fullwidth")},m(a,f){n&&n.m(a,f),N(a,t,f),N(a,s,f),q(e,s,null),$(s,p),$(s,c),o=!0,_||(u=J(s,"submit",P(l[3])),_=!0)},p(a,[f]){a[2]?n?(n.p(a,f),f&4&&C(n,1)):(n=x(a),n.c(),C(n,1),n.m(t.parentNode,t)):n&&(R(),S(n,1,1,()=>{n=null}),A());const I={};!r&&f&1&&(r=!0,I.email=a[0],T(()=>r=!1)),!i&&f&2&&(i=!0,I.password=a[1],T(()=>i=!1)),e.$set(I)},i(a){o||(C(n),C(e.$$.fragment,a),o=!0)},o(a){S(n),S(e.$$.fragment,a),o=!1},d(a){a&&(d(t),d(s)),n&&n.d(a),L(e),_=!1,u()}}}function Z(l,t,s){let e="",r="",i="";async function p(){console.log(`attemting to log in email: ${e} with password: ${r}`);let o=await Q.login(e,r);o?(K.set(o),localStorage.spot=JSON.stringify(o),G("/create")):(s(0,e=""),s(1,r=""),s(2,i="Invalid Credentials"))}function c(o){e=o,s(0,e)}function m(o){r=o,s(1,r)}return[e,r,i,p,c,m]}class ee extends H{constructor(t){super(),j(this,t,Z,Y,F,{})}}function te(l){let t,s,e,r,i,p="Login to SpotHop",c,m,o,_;return o=new ee({}),{c(){t=h("section"),s=h("div"),e=h("div"),r=h("div"),i=h("h3"),i.textContent=p,c=y(),m=h("div"),O(o.$$.fragment),this.h()},l(u){t=v(u,"SECTION",{class:!0});var n=w(t);s=v(n,"DIV",{class:!0});var k=w(s);e=v(k,"DIV",{class:!0});var E=w(e);r=v(E,"DIV",{class:!0});var g=w(r);i=v(g,"H3",{class:!0,"data-svelte-h":!0}),z(i)!=="svelte-wzi93j"&&(i.textContent=p),c=D(g),m=v(g,"DIV",{class:!0});var a=w(m);V(o.$$.fragment,a),a.forEach(d),g.forEach(d),E.forEach(d),k.forEach(d),n.forEach(d),this.h()},h(){b(i,"class","title has-text-black has-text-centered"),b(m,"class","box"),b(r,"class","column is-4 is-offset-4"),b(e,"class","container"),b(s,"class","hero-body"),b(t,"class","hero is-fullheight")},m(u,n){N(u,t,n),$(t,s),$(s,e),$(e,r),$(r,i),$(r,c),$(r,m),q(o,m,null),_=!0},p:B,i(u){_||(C(o.$$.fragment,u),_=!0)},o(u){S(o.$$.fragment,u),_=!1},d(u){u&&d(t),L(o)}}}class le extends H{constructor(t){super(),j(this,t,null,te,F,{})}}export{le as component};
