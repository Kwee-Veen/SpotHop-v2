const __vite__fileDeps=["../chunks/LeafletMap.CMiL_xvh.js","../chunks/preload-helper.D6kgxu3v.js","../chunks/scheduler.BugHMGPi.js","../chunks/index.BS6YZX3e.js","../assets/LeafletMap.HupOsEJb.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as Se}from"../chunks/preload-helper.D6kgxu3v.js";import{s as B,j as Le,n as A,r as Te,c as N,a as ke,i as re,o as Me}from"../chunks/scheduler.BugHMGPi.js";import{S as x,i as G,e as m,c as g,a as _,f as p,h as d,k as V,l as f,E as _e,n as oe,o as Pe,t as Ce,d as Ie,j as z,F as He,s as y,b,D as ie,q as L,g as le,r as T,A as qe,u as k,v as M,w as P,x as H}from"../chunks/index.BS6YZX3e.js";import{C as ve,S as Oe}from"../chunks/SpotList.Gg_gE-qf.js";import{s as Ue}from"../chunks/stores.Cwdn6BQi.js";import{e as $e}from"../chunks/each.D6YF6ztN.js";import{e as Re}from"../chunks/forms.DZcjlgCB.js";import{L as je}from"../chunks/LeafletMap.CMiL_xvh.js";function ye(l,e,t){const s=l.slice();return s[3]=e[t],s}function be(l){let e,t=l[3]+"",s;return{c(){e=m("option"),s=Ce(t),this.h()},l(n){e=g(n,"OPTION",{});var a=_(e);s=Ie(a,t),a.forEach(p),this.h()},h(){e.__value=l[3],z(e,e.__value)},m(n,a){V(n,e,a),f(e,s)},p:A,d(n){n&&p(e)}}}function ze(l){let e,t,s,n,a,o=$e(l[1]),i=[];for(let r=0;r<o.length;r+=1)i[r]=be(ye(l,o,r));return{c(){e=m("div"),t=m("div"),s=m("select");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=g(r,"DIV",{class:!0});var c=_(e);t=g(c,"DIV",{class:!0});var u=_(t);s=g(u,"SELECT",{name:!0});var v=_(s);for(let E=0;E<i.length;E+=1)i[E].l(v);v.forEach(p),u.forEach(p),c.forEach(p),this.h()},h(){d(s,"name","category"),l[0]===void 0&&Le(()=>l[2].call(s)),d(t,"class","select"),d(e,"class","control")},m(r,c){V(r,e,c),f(e,t),f(t,s);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(s,null);_e(s,l[0],!0),n||(a=oe(s,"change",l[2]),n=!0)},p(r,[c]){if(c&2){o=$e(r[1]);let u;for(u=0;u<o.length;u+=1){const v=ye(r,o,u);i[u]?i[u].p(v,c):(i[u]=be(v),i[u].c(),i[u].m(s,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=o.length}c&3&&_e(s,r[0])},i:A,o:A,d(r){r&&p(e),Pe(i,r),n=!1,a()}}}function Ae(l,e,t){const s=["Site","Locale","Activity","Scenery","Structure","Shopping","Uncategorised"];let{selectedCategory:n="Uncategorised"}=e;function a(){n=He(this),t(0,n),t(1,s)}return l.$$set=o=>{"selectedCategory"in o&&t(0,n=o.selectedCategory)},[n,s,a]}class Fe extends x{constructor(e){super(),G(this,e,Ae,ze,B,{selectedCategory:0})}}function Ne(l){let e,t,s,n,a,o,i;return{c(){e=m("div"),t=m("input"),s=y(),n=m("div"),a=m("input"),this.h()},l(r){e=g(r,"DIV",{class:!0});var c=_(e);t=g(c,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0,placeholder:!0,name:!0}),c.forEach(p),s=b(r),n=g(r,"DIV",{class:!0});var u=_(n);a=g(u,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0,placeholder:!0,name:!0}),u.forEach(p),this.h()},h(){d(t,"class","input is-danger is-rounded"),d(t,"type","float"),d(t,"min","-90"),d(t,"max","90"),d(t,"step","0.00001"),d(t,"placeholder","Latitude"),d(t,"name","latitude"),t.required=!0,d(e,"class","field is-narrow"),d(a,"class","input is-danger is-rounded"),d(a,"type","float"),d(a,"min","-180"),d(a,"max","180"),d(a,"step","0.00001"),d(a,"placeholder","Longitude"),d(a,"name","longitude"),a.required=!0,d(n,"class","field is-narrow")},m(r,c){V(r,e,c),f(e,t),z(t,l[0]),V(r,s,c),V(r,n,c),f(n,a),z(a,l[1]),o||(i=[oe(t,"input",l[2]),oe(a,"input",l[3])],o=!0)},p(r,[c]){c&1&&z(t,r[0]),c&2&&z(a,r[1])},i:A,o:A,d(r){r&&(p(e),p(s),p(n)),o=!1,Te(i)}}}function Be(l,e,t){let{latitude:s=0}=e,{longitude:n=0}=e;function a(){s=this.value,t(0,s)}function o(){n=this.value,t(1,n)}return l.$$set=i=>{"latitude"in i&&t(0,s=i.latitude),"longitude"in i&&t(1,n=i.longitude)},[s,n,a,o]}class xe extends x{constructor(e){super(),G(this,e,Be,Ne,B,{latitude:0,longitude:1})}}function Ge(l){let e,t,s,n,a,o='<input class="input is-success" id="name" placeholder="Spot name" type="text" name="name" required=""/>',i,r,c,u,v,E,C,J,K,Q,w,ce='<input id="description" class="input is-success" type="text" placeholder="Enter description" name="description"/>',W,X,Y,S,ue='<button class="button is-danger is-rounded has-text-weight-bold is-size-5">Create Spot</button>',Z,ee,te,q,O,U,R,se,F,ae,de;function De(h){l[3](h)}let fe={};l[0]!==void 0&&(fe.selectedCategory=l[0]),r=new Fe({props:fe}),N.push(()=>ie(r,"selectedCategory",De));function Ve(h){l[4](h)}function we(h){l[5](h)}let ne={};return l[1]!==void 0&&(ne.latitude=l[1]),l[2]!==void 0&&(ne.longitude=l[2]),C=new xe({props:ne}),N.push(()=>ie(C,"latitude",Ve)),N.push(()=>ie(C,"longitude",we)),{c(){e=m("div"),t=m("form"),s=m("div"),n=m("div"),a=m("div"),a.innerHTML=o,i=y(),L(r.$$.fragment),u=y(),v=m("div"),E=y(),L(C.$$.fragment),Q=y(),w=m("div"),w.innerHTML=ce,W=y(),X=m("br"),Y=y(),S=m("div"),S.innerHTML=ue,Z=y(),ee=m("br"),te=y(),q=m("div"),O=m("div"),U=m("div"),R=m("div"),se=Ce(Ee),this.h()},l(h){e=g(h,"DIV",{class:!0,style:!0});var I=_(e);t=g(I,"FORM",{method:!0,action:!0});var $=_(t);s=g($,"DIV",{class:!0});var j=_(s);n=g(j,"DIV",{class:!0});var D=_(n);a=g(D,"DIV",{class:!0,"data-svelte-h":!0}),le(a)!=="svelte-98ixt5"&&(a.innerHTML=o),i=b(D),T(r.$$.fragment,D),u=b(D),v=g(D,"DIV",{class:!0}),_(v).forEach(p),E=b(D),T(C.$$.fragment,D),D.forEach(p),j.forEach(p),Q=b($),w=g($,"DIV",{class:!0,"data-svelte-h":!0}),le(w)!=="svelte-ej73g9"&&(w.innerHTML=ce),W=b($),X=g($,"BR",{}),Y=b($),S=g($,"DIV",{class:!0,"data-svelte-h":!0}),le(S)!=="svelte-zikyt2"&&(S.innerHTML=ue),Z=b($),ee=g($,"BR",{}),te=b($),q=g($,"DIV",{class:!0});var pe=_(q);O=g(pe,"DIV",{class:!0});var me=_(O);U=g(me,"DIV",{class:!0});var ge=_(U);R=g(ge,"DIV",{class:!0});var he=_(R);se=Ie(he,Ee),he.forEach(p),ge.forEach(p),me.forEach(p),pe.forEach(p),$.forEach(p),I.forEach(p),this.h()},h(){d(a,"class","field is-narrow"),d(v,"class","field is-narrow"),d(n,"class","field-body"),d(s,"class","field is-grouped-horizontal"),d(w,"class","field"),d(S,"class","text has-text-centered"),d(R,"class","content has-text-centered is-italic"),d(U,"class","box has-background-warning-light"),d(O,"class","column is-narrow"),d(q,"class","columns is-mobile is-centered"),d(t,"method","POST"),d(t,"action","?/create"),d(e,"class","box has-background-white"),qe(e,"height","43vh")},m(h,I){V(h,e,I),f(e,t),f(t,s),f(s,n),f(n,a),f(n,i),k(r,n,null),f(n,u),f(n,v),f(n,E),k(C,n,null),f(t,Q),f(t,w),f(t,W),f(t,X),f(t,Y),f(t,S),f(t,Z),f(t,ee),f(t,te),f(t,q),f(q,O),f(O,U),f(U,R),f(R,se),F=!0,ae||(de=ke(Re.call(null,t)),ae=!0)},p(h,[I]){const $={};!c&&I&1&&(c=!0,$.selectedCategory=h[0],re(()=>c=!1)),r.$set($);const j={};!J&&I&2&&(J=!0,j.latitude=h[1],re(()=>J=!1)),!K&&I&4&&(K=!0,j.longitude=h[2],re(()=>K=!1)),C.$set(j)},i(h){F||(M(r.$$.fragment,h),M(C.$$.fragment,h),F=!0)},o(h){P(r.$$.fragment,h),P(C.$$.fragment,h),F=!1},d(h){h&&p(e),H(r),H(C),ae=!1,de()}}}let Ee="Type in your new Spot's details above before hitting the red button";function Je(l,e,t){let s="Uncategorised",n=0,a=0;function o(c){s=c,t(0,s)}function i(c){n=c,t(1,n)}function r(c){a=c,t(2,a)}return[s,n,a,o,i,r]}class Ke extends x{constructor(e){super(),G(this,e,Je,Ge,B,{})}}function Qe(l){let e,t,s,n,a,o,i,r={height:43,activeLayer:"Terrain",data:l[0]};return s=new je({props:r}),l[2](s),o=new Ke({}),{c(){e=m("div"),t=m("div"),L(s.$$.fragment),n=y(),a=m("div"),L(o.$$.fragment),this.h()},l(c){e=g(c,"DIV",{class:!0});var u=_(e);t=g(u,"DIV",{class:!0});var v=_(t);T(s.$$.fragment,v),v.forEach(p),n=b(u),a=g(u,"DIV",{class:!0});var E=_(a);T(o.$$.fragment,E),E.forEach(p),u.forEach(p),this.h()},h(){d(t,"class","column is-6"),d(a,"class","column is-6"),d(e,"class","columns is-mobile is-centered")},m(c,u){V(c,e,u),f(e,t),k(s,t,null),f(e,n),f(e,a),k(o,a,null),i=!0},p(c,u){const v={};u&1&&(v.data=c[0]),s.$set(v)},i(c){i||(M(s.$$.fragment,c),M(o.$$.fragment,c),i=!0)},o(c){P(s.$$.fragment,c),P(o.$$.fragment,c),i=!1},d(c){c&&p(e),l[2](null),H(s),H(o)}}}function We(l){let e,t;return e=new Oe({props:{spots:l[0].spots}}),{c(){L(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,n){k(e,s,n),t=!0},p(s,n){const a={};n&1&&(a.spots=s[0].spots),e.$set(a)},i(s){t||(M(e.$$.fragment,s),t=!0)},o(s){P(e.$$.fragment,s),t=!1},d(s){H(e,s)}}}function Xe(l){let e,t,s,n;return e=new ve({props:{$$slots:{default:[Qe]},$$scope:{ctx:l}}}),s=new ve({props:{$$slots:{default:[We]},$$scope:{ctx:l}}}),{c(){L(e.$$.fragment),t=y(),L(s.$$.fragment)},l(a){T(e.$$.fragment,a),t=b(a),T(s.$$.fragment,a)},m(a,o){k(e,a,o),V(a,t,o),k(s,a,o),n=!0},p(a,[o]){const i={};o&11&&(i.$$scope={dirty:o,ctx:a}),e.$set(i);const r={};o&9&&(r.$$scope={dirty:o,ctx:a}),s.$set(r)},i(a){n||(M(e.$$.fragment,a),M(s.$$.fragment,a),n=!0)},o(a){P(e.$$.fragment,a),P(s.$$.fragment,a),n=!1},d(a){a&&p(t),H(e,a),H(s,a)}}}function Ye(l,e,t){let{data:s}=e,n;Ue.set("Create a Spot"),Me(async()=>{await Se(()=>import("../chunks/LeafletMap.CMiL_xvh.js").then(r=>r.l),__vite__mapDeps([0,1,2,3,4]),import.meta.url);const o=s.spots,i=o[o.length-1];if(i){const r=`Spot "${i.name}" (${i.latitude} ${i.longitude}), category: ${i.category}`;n.addMarker(i.latitude,i.longitude,r),n.moveTo(i.latitude,i.longitude)}});function a(o){N[o?"unshift":"push"](()=>{n=o,t(1,n)})}return l.$$set=o=>{"data"in o&&t(0,s=o.data)},[s,n,a]}class lt extends x{constructor(e){super(),G(this,e,Ye,Xe,B,{data:0})}}export{lt as component};
